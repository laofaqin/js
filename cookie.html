<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.7 (457389)"/><meta name="altitude" content="214.6667022705078"/><meta name="author" content="43647262@qq.com"/><meta name="created" content="2019-04-21 13:23:07 +0000"/><meta name="latitude" content="34.16342163085938"/><meta name="longitude" content="112.8353821712842"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-04-21 14:26:56 +0000"/><title>w5-d2  Cookie及http协议</title></head><body><div>Cookie</div><ul><li><div>1：通信协议</div></li></ul><div><br/></div><div>定义：通信协议是指双方实体完成通信或服务所必须遵循的规则和约定。协议定义了数据单元使用的格式，信息单元应该包含的信息与含义，连接方式，信息发送和接收的时序，从而确保网络中数据顺利地传送到确定的地方。</div><div>总结一句话：交流的规则。比如：汉语、英语、德语、日语等。</div><div>在计算机通信中，通信协议用于实现计算机与网络连接之间的标准，网络如果没有统一的通信协议，电脑之间的信息传递就无法识别。 通信协议是指通信各方事前约定的通信规则，可以简单地理解为各计算机之间进行相互会话所使用的共同语言。两台计算机在进行通信时，必须使用的通信协议。</div><div>常见的协议有：TCP/IP协议、HTTP协议等等。</div><div><br/></div><ul><li><div>2：HTTP协议</div></li></ul><div>超文本传输协议（HTTP，HyperText Transfer Protocol）是互联网上应用最为广泛的一种网络协议。所有的WWW文件都必须遵守这个标准。该协议用于从WWW服务器传输超文本到本地浏览器的传输协议。它可以使浏览器更加高效，使网络传输减少。它不仅保证计算机正确快速地传输超文本文档，还确定传输文档中的哪一部分，以及哪部分内容首先显示(如文本先于图形)等。</div><div>HTTP协议是一个无状态的通信协议，一旦数据交换完毕，客户端与服务器端的连接就会关闭，再次交换数据需要建立新的连接。它基于TCP协议的一种高级协议，用于客户端和服务器直接的通信。http 默认端口号 80    https（secure）协议   默认端口号443</div><div><br/></div><ul><li><div>3：cookie的概念</div></li></ul><div>指某些网站为了辨别用户身份，进行session（会话）跟踪而存储在用户本地终端上的数据（通常经过加密）。以文本形式存在。</div><div>谷歌浏览器存储地址： C:\Users\用户名\AppData\Local\Google\Chrome\User Data\Default\文件夹下的Cookies文件。</div><div>注：cookie 只有在服务器环境下才有用</div><div><br/></div><div>禁用cookie：改变浏览器的cookie设置。如果浏览器完全禁止cookie功能的话，大多数网站的基本功能无法正常使用。</div><div><br/></div><ul><li><div>4：cookie的特点</div></li></ul><div style="margin-left: 80px;">1：chrome和safari没有对cookie的个数做限制，一般浏览器限制同一域名数量为50个。</div><div style="margin-left: 80px;">2：cookie文件的总大小一般为4KB（同一个域名）。</div><div style="margin-left: 80px;">3：只能使用文本文件。</div><div style="margin-left: 80px;">4：读取有域名限制。 域名 <a href="http://www.baidu.com">www.baidu.com</a>  <a href="http://www.taobao.com">www.taobao.com</a>   <a href="http://so.com">so.com</a></div><div style="margin-left: 80px;">    不可跨域读取,只能由来自 写入cookie的 同一域名 的网页可进行读取。 简单的讲就是,谁写的cookie,谁才有权利读取 (身份牌是我发你的,当然只有我能读取,你媳妇儿的手机自动连接了邻居老王家的wifi,你知道这意味着什么吗?)</div><div style="margin-left: 80px;">5：时效限制。</div><div style="margin-left: 80px;">    每个cookie都有时效,最短的有效期是,会话级别:就是当浏览器关闭,那么cookie立即销毁。</div><div><br/></div><ul><li><div>5：<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">cookie的使用</span></div></li></ul><div><br/></div><div>
添加cookie：document.cookie = “key=value”; // 一次写入一个键值对
</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>document.cookie = 'test1=hello';</div><div>document.cookie = 'test2=world';</div><div>//在浏览器中查看一下现在的cookie是什么样子   打开控制台 点击application 就能看到cookies</div><div>//注意 document.cookie一次只能写入一个 Cookie，而且写入并不是覆盖，而是添加</div></div><div style="margin-left: 40px;"><br/></div><div>读取cookie：document.cookie;</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>document.cookie // "test1=hello; test2=world"</div></div><div style="margin-left: 40px;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">上面代码从</span><span style="background-color: rgb(249, 242, 244); color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;">document.cookie</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">一次性读出两个 Cookie，它们之间使用 分号空格 分隔。必须手动还原，才能取出每一个 Cookie 的值。</span></div><div style="margin-left: 80px;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>var cookies = document.cookie.split('; ');</div><div><br/></div><div>for (var i = 0; i &lt; cookies.length; i++) { </div><div>      console.log(cookies[i]);</div><div>}</div><div>// foo=bar// baz=bar</div></div><div style="margin-left: 80px;"><br/></div><div>修改cookie：document.cookie = “key=value”;  // 修改名为key的cookie值</div><div style="margin-left: 40px;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>document.cookie = 'test2=hah';</div><div>document.cookie // "test1=hello; test2=hah"</div></div><div style="margin-left: 40px;"><br/></div><div style="margin-left: 40px;">上面代码修改了test2对应的值</div><div style="margin-left: 40px;"><br/></div><div><br/></div><div><br/></div><div>失效时间：expires ，没有设置失效时间的cookie 在浏览器关闭以后就会自动删除，如果设置了失效时候在未来的时间，就可以让cookie保存的时间长一点</div><div>设置失效时间：document.cookie = “key=value;expires=”+ oDate;</div><div style="margin-left: 40px;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>var oDate = new Date();</div><div>oDate.setDate(oDate.getDate() + 7);</div><div>document.cookie = “key=value;expires=”+ oDate;</div><div>//上面代码设置cookie的过期时间为7天以后</div></div><div style="margin-left: 40px;"><br/></div><div>删除cookie：将cookie值覆盖为空，并将失效时间设置为过去的时间。</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>var oDate = new Date();</div><div>oDate.setDate(oDate.getDate() -7);</div><div>document.cookie = “test=;expires=”+ oDate;</div><div>//将cookie的过期时间设置为 7天前，test 这个cookie 就获取不到了</div></div><div><br/></div><div><br/></div><div>设置域名：domain</div><div>设置域名：document.cookie = “key=value;domain=<a href="http://www.baidu.com">www.baidu.com</a>“;</div><div>注：必须在绑定域名的服务器才可以设置域名，上不同服务器之间的cookie文件不能共享。</div><div><br/></div><div><br/></div><div>设置路径：path</div><div>设置路径： document.cookie = “key=value;path=/“;</div><div><br/></div><div>注：在同一路径下的网页可以共享cookie，路径不同时，不可以访问。</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>document.cookie = “key=value;path=/“;//设置cookie的路径为跟路径，这样我们网站下的所有页面可以共享cookie</div></div><div><br/></div><div>注：如果有中文内容，需要用encodeURIComponent(‘xxxx’)进行编码，再使用decodeURIComponent(‘xxxx’)进行解码，解决中文乱码的问题。</div><div><br/></div><div><br/></div><div><br/></div><ul><li><div>6：<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">cookie的封装</span></div></li></ul><div>增加/修改cookie函数：</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>function setCookie(name,value,iDay){</div><div>    var newDate = new Date();</div><div>    newDate.setDate(newDate.getDate()+iDay);</div><div>//编码  把可能为中文的编码一下</div><div>     console.log(name)</div><div>    value = encodeURIComponent(value);</div><div>    console.log(name)</div><div><br/></div><div>    document.cookie=name+"="+value+";expires="+newDate+";path=/";</div><div>}</div><div><br/></div></div><div><br/></div><div>获取cookie函数：</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>function getCookie(name){</div><div>     //解码</div><div>    cookie = decodeURIComponent(document.cookie);</div><div>    var arr = cookie.split("; ");</div><div>    for(var i =0; i&lt;arr.length; i++){</div><div>        var arr2 = arr[i].split("=");</div><div>        if(arr2[0] == name){</div><div>            return arr2[1];</div><div>        }</div><div>    }</div><div>}</div></div><div><br/></div><div>删除cookie函数：</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>function removeCookie(name){</div><div>      setCookie(name,1,-100);</div><div>}</div></div><div><br/></div><ul><li><div>7：cookie和json</div></li></ul><div style="box-sizing: border-box; margin: 0px 0px 17px; padding: 0px; direction: ltr; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; direction: ltr; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">JSON 格式（JavaScript Object Notation 的缩写）是一种用于数据交换的文本格式，2001年由 Douglas Crockford 提出，目的是取代繁琐笨重的 XML 格式。</span></div><div style="box-sizing: border-box; margin: 0px 0px 17px; padding: 0px; direction: ltr; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">相比 XML 格式，JSON 格式有两个显著的优点：书写简单，一目了然；符合 JavaScript 原生语法，可以由解释引擎直接处理，不用另外添加解析代码。所以，JSON 迅速被接受，已经成为各大网站交换数据的标准格式，并被写入标准。</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">每个 JSON 对象就是一个值，可能是一个数组或对象</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">JSON 对值的类型和格式有严格的规定</span></div><div><span style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif; color: rgb(34, 34, 34);">     </span></div><ol style="box-sizing: border-box; margin: 0px 4em 17px 6em; padding: 0px; direction: ltr; list-style-position: outside; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><li style="box-sizing: border-box; margin: 0px; padding: 0px; direction: ltr;"><div style="box-sizing: border-box; margin: 0px 0px 17px 1em; padding: 0px; direction: ltr;"><span style="box-sizing: border-box; direction: ltr; color: rgb(34, 34, 34); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace;">json的值只能是数组或对象，不能是函数、正则表达式对象、日期对象。</span></div></li><li style="box-sizing: border-box; margin: 0px; padding: 0px; direction: ltr;"><div style="box-sizing: border-box; margin: 0px 0px 17px 1em; padding: 0px; direction: ltr;"><span style="box-sizing: border-box; direction: ltr; color: rgb(34, 34, 34); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace;">字符串必须使用双引号表示，不能使用单引号。</span></div></li><li style="box-sizing: border-box; margin: 0px; padding: 0px; direction: ltr;"><div style="box-sizing: border-box; margin: 0px 0px 17px 1em; padding: 0px; direction: ltr;"><span style="box-sizing: border-box; direction: ltr; color: rgb(34, 34, 34); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace;">对象的键名必须放在双引号里面。</span></div></li><li style="box-sizing: border-box; margin: 0px; padding: 0px; direction: ltr;"><div style="box-sizing: border-box; margin: 0px 0px 17px 1em; padding: 0px; direction: ltr;"><span style="box-sizing: border-box; direction: ltr; color: rgb(34, 34, 34); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, monospace;">数组或对象最后一个成员的后面，不能加逗号。</span></div></li></ol><div style="box-sizing: border-box; margin: 0px; padding: 0px; direction: ltr;"><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">以下都是合法的 JSON。</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>["one", "two", "three"]</div><div><br/></div><div>
{ "one": 1, "two": 2, "three": 3 }</div><div><br/></div><div>
{"names": ["张三", "李四"] }</div><div><br/></div><div>
[ { "name": "张三"}, {"name": "李四"} ]</div></div><div>以下都是不合法的 JSON。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>{ name: "张三", 'age': 32 }  // 属性名必须使用双引号</div><div><br/></div><div>
[32, 64, 128, 0xFFF] // 不能使用十六进制值</div><div><br/></div><div>
{ "name": "张三", "age": undefined } // 不能使用 undefined</div><div><br/></div><div>
{ "name": "张三",</div><div>
  "birthday": new Date('Fri, 26 Aug 2011 07:13:10 GMT'),</div><div>
  "getName": function () {</div><div>
      return this.name;</div><div>  }} // 属性值不能使用函数和日期对象</div></div><div><span style="background-color: rgb(249, 242, 244); color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;">JSON</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">对象是 JavaScript 的原生对象，用来处理 JSON 格式数据。它有两个方法：</span><span style="background-color: rgb(249, 242, 244); color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;">JSON.stringify()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">和</span><span style="background-color: rgb(249, 242, 244); color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;">JSON.parse()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">。</span></div><div><span style="background-color: rgb(249, 242, 244); color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;">JSON.stringify</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">方法用于将一个值转为 JSON 字符串。该字符串符合 JSON 格式，并且可以被</span><span style="background-color: rgb(249, 242, 244); color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;">JSON.parse</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">方法还原。</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">JSON.stringify([1, 1])// '[1,1]'</span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">
JSON.stringify({ name: "张三" })// '{"name":"张三"}'</span></div></div><div><span style="background-color: rgb(249, 242, 244); color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, FreeMono, monospace; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px;">JSON.parse</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: &quot;Helvetica Neue&quot;, Helvetica, Helvetica, Arial, sans-serif;">方法用于将 JSON 字符串转换成对应的值。</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">JSON.parse('{}') // {}</span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">JSON.parse('[1, 5]') // [1, 5]</span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">var o = JSON.parse('{"name": "张三"}');</span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">o.name // 张三</span></div></div><div><br/></div><div>我们可以把js中的对象，转为字符串，存贮在cookie中，从而来存贮复杂的数据</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>var userObj = {name:"张三",age:18}</div><div>var jsonStr = JSON.stringify(userobj);</div><div>setCookie('userinfo',jsonStr,7)//把用户的信息存储在cookie中</div><div><br/></div><div><br/></div><div>var arr = [</div><div style="margin-left: 40px;">{name:"张1",age:18},</div><div style="margin-left: 40px;">{name:"张2",age:18},</div><div style="margin-left: 40px;">{name:"张3",age:18}</div><div>]</div><div>var jsonStr = JSON.stringify(arr);</div><div>setCookie('users',jsonStr,7)//把多个账户息存储在cookie中</div></div><div><br/></div></div><ul><li><div>8：XSS的攻击</div></li></ul><div>跨站脚本攻击(Cross Site Scripting)，为不和层叠样式表(Cascading Style Sheets, CSS)的缩写混淆，故将跨站脚本攻击缩写为XSS。恶意攻击者往Web页面里插入恶意Script代码，当用户浏览该页之时，嵌入其中Web里面的Script代码会被执行，从而达到恶意攻击用户的目的。</div><div>跨站脚本攻击的核心在于脚本的成功注入，并二次展示。通常服务器端都会对文本内容进行安全性的过滤。</div><div><br/></div><div>强化练习：</div><div>    1：一周内免登录。</div><div>    2：购物车</div><div><br/></div><div>思路： <span style="font-size: medium; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: 微软雅黑; font-variant-caps: normal; font-variant-ligatures: normal;">(商品列表，点击加入购车，把商品信息转为对象，放在数组中存入cookie)</span></div><div><br/></div><div>点击商品的时候把 把商品有关的信息变成对象 var product = {name:'iphone手机',id:222,price:5999},放入数组 【prodocut】,转为字符串，存入cookie</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>